jQuery.fn.xeyes=function(k){k=$.extend({padding:0,radius:'natural',onHover:'follow',position:'center',trigger:window,triggerOut:undefined,triggerOutSpeed:1000},k);var l=parseInt(k.padding,10);this.each(function(c,d){var f=$(d),$eye=f.parent();$(d).css('position','absolute').parent().css('position','relative');var g=f.outerWidth(),irisH=f.outerHeight(),eyeW=$eye.width(),eyeH=$eye.height(),defX=eyeW/2-g/2,defY=eyeH/2-irisH/2;if(k.radius=='circular'&&eyeW>eyeH){eyeW=eyeH}else if(k.radius=='circular'){eyeH=eyeW}$(d).css("left",defX+"px").css("top",defY+"px");var h=f.offset(),offX=h.left+g/2,offY=h.top+irisH/2,position={top:{degree:90},bottom:{degree:-90},left:{degree:180},right:{degree:0},topRight:{degree:45},topLeft:{degree:135},bottomRight:{degree:-45},bottomLeft:{degree:-135}};if(k.position.x){f.css("left",defX-parseInt(k.position.x,10)+"px").css("top",defY-parseInt(k.position.y,10)+"px")}else if(k.position.degree!==undefined){var i=k.position.degree*Math.PI/-180;f.css("left",defX+Math.cos(i)*(eyeW/2-g/2-l)+"px").css("top",defY+Math.sin(i)*(eyeH/2-irisH/2-l)+"px")}else if(k.position=="center"){f.css("left",defX+"px").css("top",defY+"px")}else{var j=position[k.position].degree*Math.PI/-180;f.css("left",defX+Math.cos(j)*(eyeW/2-g/2-l)+"px").css("top",defY+Math.sin(j)*(eyeH/2-irisH/2-l)+"px")}$(k.trigger).mousemove(function(e){f.stop().clearQueue();var a=Math.atan((e.pageY-offY)/(e.pageX-offX)),direction=(offX>=e.pageX)?-1:1,newX=Math.cos(a)*(eyeW/2-g/2-l)*direction,newY=Math.sin(a)*(eyeH/2-irisH/2-l)*direction,radius=Math.sqrt(Math.pow(newX,2)+Math.pow(newY,2)),distance=Math.sqrt(Math.pow(e.pageY-offY,2)+Math.pow(e.pageX-offX,2));if(radius>distance&&k.onHover.toLowerCase()!='nofollow'){f.css("left",(e.pageX-offX+defX)+"px").css("top",(e.pageY-offY+defY)+"px")}else{f.css("left",defX+newX+"px").css("top",defY+newY+"px")}}).mouseleave(function(e){if(k.triggerOut!=undefined){if(k.triggerOut.x){f.animate({left:defX-parseInt(k.triggerOut.x,10)+"px",top:defY-parseInt(k.triggerOut.y,10)+"px"},k.triggerOutSpeed)}else if(k.triggerOut.degree!==undefined){var a=k.triggerOut.degree*Math.PI/-180;f.animate({left:defX+Math.cos(a)*(eyeW/2-g/2-l)+"px",top:defY+Math.sin(a)*(eyeH/2-irisH/2-l)+"px"},k.triggerOutSpeed)}else if(k.triggerOut=="center"){f.animate({left:defX+"px",top:defY+"px"},k.triggerOutSpeed)}else{var b=position[k.triggerOut].degree*Math.PI/-180;f.animate({left:defX+Math.cos(b)*(eyeW/2-g/2-l)+"px",top:defY+Math.sin(b)*(eyeH/2-irisH/2-l)+"px"},k.triggerOutSpeed)}}})})};$('.iris').xeyes({padding:'5px',position:'top',trigger:'.wrap a',triggerOut:'center',triggerOutSpeed:200});â€‹
